{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import utils from\"../utils/utils\";import PlayNumber from\"./PlayNumber\";import StarsDisplay from\"./StarsDisplay\";import PlayAgain from\"./PlayAgain\";import useGameState from\"./useGameState\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Game=function Game(props){var _useGameState=useGameState(),stars=_useGameState.stars,availableNums=_useGameState.availableNums,candidateNums=_useGameState.candidateNums,secondsLeft=_useGameState.secondsLeft,setGameState=_useGameState.setGameState;var candidatesAreWrong=utils.sum(candidateNums)>stars;var gameStatus=availableNums.length===0?\"won\":secondsLeft===0?\"lost\":\"active\";var numberStatus=function numberStatus(number){if(!availableNums.includes(number)){return\"used\";}if(candidateNums.includes(number)){return candidatesAreWrong?\"wrong\":\"candidate\";}return\"available\";};var onNumberClick=function onNumberClick(number,currentStatus){// currentStatus => newStatus\nif(currentStatus===\"used\")return;// candidateNums\nvar newCandidateNums=currentStatus===\"available\"?candidateNums.concat(number):candidateNums.filter(function(cn){return cn!==number;});setGameState(newCandidateNums);};return/*#__PURE__*/_jsxs(\"div\",{className:\"game\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"help\",children:\"Pick 1 or more numbers that sum to the number of stars\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left\",children:gameStatus!==\"active\"?/*#__PURE__*/_jsx(PlayAgain,{onClick:props.startNewGame,gameStatus:gameStatus}):/*#__PURE__*/_jsx(StarsDisplay,{stars:stars})}),/*#__PURE__*/_jsx(\"div\",{className:\"right\",children:utils.range(1,9).map(function(number){return/*#__PURE__*/_jsx(PlayNumber,{status:numberStatus(number),number:number,onNumberClick:onNumberClick},number);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"timer\",children:[\"Time remaining: \",secondsLeft]})]});};export default Game;","map":{"version":3,"names":["React","useState","useEffect","utils","PlayNumber","StarsDisplay","PlayAgain","useGameState","Game","props","stars","availableNums","candidateNums","secondsLeft","setGameState","candidatesAreWrong","sum","gameStatus","length","numberStatus","number","includes","onNumberClick","currentStatus","newCandidateNums","concat","filter","cn","startNewGame","range","map"],"sources":["/Users/AAE16/Documents/repos/stars-match/src/components/Game.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport utils from \"../utils/utils\";\n\nimport PlayNumber from \"./PlayNumber\";\nimport StarsDisplay from \"./StarsDisplay\";\nimport PlayAgain from \"./PlayAgain\";\n\nimport useGameState from \"./useGameState\";\n\nconst Game = (props) => {\n  const { stars, availableNums, candidateNums, secondsLeft, setGameState } =\n    useGameState();\n\n  const candidatesAreWrong = utils.sum(candidateNums) > stars;\n\n  const gameStatus =\n    availableNums.length === 0 ? \"won\" : secondsLeft === 0 ? \"lost\" : \"active\";\n\n  const numberStatus = (number) => {\n    if (!availableNums.includes(number)) {\n      return \"used\";\n    }\n    if (candidateNums.includes(number)) {\n      return candidatesAreWrong ? \"wrong\" : \"candidate\";\n    }\n    return \"available\";\n  };\n\n  const onNumberClick = (number, currentStatus) => {\n    // currentStatus => newStatus\n    if (currentStatus === \"used\") return;\n    // candidateNums\n    const newCandidateNums =\n      currentStatus === \"available\"\n        ? candidateNums.concat(number)\n        : candidateNums.filter((cn) => cn !== number);\n\n    setGameState(newCandidateNums);\n  };\n\n  return (\n    <div className=\"game\">\n      <div className=\"help\">\n        Pick 1 or more numbers that sum to the number of stars\n      </div>\n      <div className=\"body\">\n        <div className=\"left\">\n          {gameStatus !== \"active\" ? (\n            <PlayAgain onClick={props.startNewGame} gameStatus={gameStatus} />\n          ) : (\n            <StarsDisplay stars={stars} />\n          )}\n        </div>\n        <div className=\"right\">\n          {utils.range(1, 9).map((number) => (\n            <PlayNumber\n              status={numberStatus(number)}\n              key={number}\n              number={number}\n              onNumberClick={onNumberClick}\n            />\n          ))}\n        </div>\n      </div>\n      <div className=\"timer\">Time remaining: {secondsLeft}</div>\n    </div>\n  );\n};\n\nexport default Game;\n"],"mappings":"AAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,MAAP,KAAkB,gBAAlB,CAEA,MAAOC,WAAP,KAAuB,cAAvB,CACA,MAAOC,aAAP,KAAyB,gBAAzB,CACA,MAAOC,UAAP,KAAsB,aAAtB,CAEA,MAAOC,aAAP,KAAyB,gBAAzB,C,wFAEA,GAAMC,KAAI,CAAG,QAAPA,KAAO,CAACC,KAAD,CAAW,CACtB,kBACEF,YAAY,EADd,CAAQG,KAAR,eAAQA,KAAR,CAAeC,aAAf,eAAeA,aAAf,CAA8BC,aAA9B,eAA8BA,aAA9B,CAA6CC,WAA7C,eAA6CA,WAA7C,CAA0DC,YAA1D,eAA0DA,YAA1D,CAGA,GAAMC,mBAAkB,CAAGZ,KAAK,CAACa,GAAN,CAAUJ,aAAV,EAA2BF,KAAtD,CAEA,GAAMO,WAAU,CACdN,aAAa,CAACO,MAAd,GAAyB,CAAzB,CAA6B,KAA7B,CAAqCL,WAAW,GAAK,CAAhB,CAAoB,MAApB,CAA6B,QADpE,CAGA,GAAMM,aAAY,CAAG,QAAfA,aAAe,CAACC,MAAD,CAAY,CAC/B,GAAI,CAACT,aAAa,CAACU,QAAd,CAAuBD,MAAvB,CAAL,CAAqC,CACnC,MAAO,MAAP,CACD,CACD,GAAIR,aAAa,CAACS,QAAd,CAAuBD,MAAvB,CAAJ,CAAoC,CAClC,MAAOL,mBAAkB,CAAG,OAAH,CAAa,WAAtC,CACD,CACD,MAAO,WAAP,CACD,CARD,CAUA,GAAMO,cAAa,CAAG,QAAhBA,cAAgB,CAACF,MAAD,CAASG,aAAT,CAA2B,CAC/C;AACA,GAAIA,aAAa,GAAK,MAAtB,CAA8B,OAC9B;AACA,GAAMC,iBAAgB,CACpBD,aAAa,GAAK,WAAlB,CACIX,aAAa,CAACa,MAAd,CAAqBL,MAArB,CADJ,CAEIR,aAAa,CAACc,MAAd,CAAqB,SAACC,EAAD,QAAQA,GAAE,GAAKP,MAAf,EAArB,CAHN,CAKAN,YAAY,CAACU,gBAAD,CAAZ,CACD,CAVD,CAYA,mBACE,aAAK,SAAS,CAAC,MAAf,wBACE,YAAK,SAAS,CAAC,MAAf,oEADF,cAIE,aAAK,SAAS,CAAC,MAAf,wBACE,YAAK,SAAS,CAAC,MAAf,UACGP,UAAU,GAAK,QAAf,cACC,KAAC,SAAD,EAAW,OAAO,CAAER,KAAK,CAACmB,YAA1B,CAAwC,UAAU,CAAEX,UAApD,EADD,cAGC,KAAC,YAAD,EAAc,KAAK,CAAEP,KAArB,EAJJ,EADF,cAQE,YAAK,SAAS,CAAC,OAAf,UACGP,KAAK,CAAC0B,KAAN,CAAY,CAAZ,CAAe,CAAf,EAAkBC,GAAlB,CAAsB,SAACV,MAAD,qBACrB,KAAC,UAAD,EACE,MAAM,CAAED,YAAY,CAACC,MAAD,CADtB,CAGE,MAAM,CAAEA,MAHV,CAIE,aAAa,CAAEE,aAJjB,EAEOF,MAFP,CADqB,EAAtB,CADH,EARF,GAJF,cAuBE,aAAK,SAAS,CAAC,OAAf,8BAAwCP,WAAxC,GAvBF,GADF,CA2BD,CA1DD,CA4DA,cAAeL,KAAf"},"metadata":{},"sourceType":"module"}