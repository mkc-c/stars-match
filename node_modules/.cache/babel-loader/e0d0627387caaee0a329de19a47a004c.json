{"ast":null,"code":"import _slicedToArray from\"/Users/AAE16/Documents/repos/stars-match/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import utils from\"../utils/utils\";var useGameState=function useGameState(){var _useState=useState(utils.random(1,9)),_useState2=_slicedToArray(_useState,2),stars=_useState2[0],setStars=_useState2[1];//candidateNumbers\nvar _useState3=useState(utils.range(1,9)),_useState4=_slicedToArray(_useState3,2),availableNums=_useState4[0],setAvailableNums=_useState4[1];//availableNums\nvar _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),candidateNums=_useState6[0],setCandidateNums=_useState6[1];var _useState7=useState(10),_useState8=_slicedToArray(_useState7,2),secondsLeft=_useState8[0],setSecondsLeft=_useState8[1];useEffect(function(){if(secondsLeft>0){var timerId=setTimeout(function(){setSecondsLeft(secondsLeft-1);},1000);return function(){return clearTimeout(timerId);};}});var setGameState=function setGameState(newCandidateNums){if(utils.sum(newCandidateNums)!==stars)setCandidateNums(newCandidateNums);else{var newAvailableNums=availableNums.filter(function(number){return!newCandidateNums.includes(number);});// redraw stars (from whats available)\nsetStars(utils.randomSumIn(newAvailableNums,9));setAvailableNums(newAvailableNums);setCandidateNums([]);}};return{stars:stars,availableNums:availableNums,candidateNums:candidateNums,secondsLeft:secondsLeft,setGameState:setGameState};};export default useGameState;","map":{"version":3,"names":["useState","useEffect","utils","useGameState","random","stars","setStars","range","availableNums","setAvailableNums","candidateNums","setCandidateNums","secondsLeft","setSecondsLeft","timerId","setTimeout","clearTimeout","setGameState","newCandidateNums","sum","newAvailableNums","filter","number","includes","randomSumIn"],"sources":["/Users/AAE16/Documents/repos/stars-match/src/components/useGameState.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport utils from \"../utils/utils\";\n\nconst useGameState = () => {\n  const [stars, setStars] = useState(utils.random(1, 9));\n  //candidateNumbers\n  const [availableNums, setAvailableNums] = useState(utils.range(1, 9));\n  //availableNums\n  const [candidateNums, setCandidateNums] = useState([]);\n  const [secondsLeft, setSecondsLeft] = useState(10);\n\n  useEffect(() => {\n    if (secondsLeft > 0) {\n      const timerId = setTimeout(() => {\n        setSecondsLeft(secondsLeft - 1);\n      }, 1000);\n      return () => clearTimeout(timerId);\n    }\n  });\n\n  const setGameState = (newCandidateNums) => {\n    if (utils.sum(newCandidateNums) !== stars)\n      setCandidateNums(newCandidateNums);\n    else {\n      const newAvailableNums = availableNums.filter(\n        (number) => !newCandidateNums.includes(number)\n      );\n      // redraw stars (from whats available)\n      setStars(utils.randomSumIn(newAvailableNums, 9));\n      setAvailableNums(newAvailableNums);\n      setCandidateNums([]);\n    }\n  };\n\n  return { stars, availableNums, candidateNums, secondsLeft, setGameState };\n};\n\nexport default useGameState;\n"],"mappings":"8HAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,MAAP,KAAkB,gBAAlB,CAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,CACzB,cAA0BH,QAAQ,CAACE,KAAK,CAACE,MAAN,CAAa,CAAb,CAAgB,CAAhB,CAAD,CAAlC,wCAAOC,KAAP,eAAcC,QAAd,eACA;AACA,eAA0CN,QAAQ,CAACE,KAAK,CAACK,KAAN,CAAY,CAAZ,CAAe,CAAf,CAAD,CAAlD,yCAAOC,aAAP,eAAsBC,gBAAtB,eACA;AACA,eAA0CT,QAAQ,CAAC,EAAD,CAAlD,yCAAOU,aAAP,eAAsBC,gBAAtB,eACA,eAAsCX,QAAQ,CAAC,EAAD,CAA9C,yCAAOY,WAAP,eAAoBC,cAApB,eAEAZ,SAAS,CAAC,UAAM,CACd,GAAIW,WAAW,CAAG,CAAlB,CAAqB,CACnB,GAAME,QAAO,CAAGC,UAAU,CAAC,UAAM,CAC/BF,cAAc,CAACD,WAAW,CAAG,CAAf,CAAd,CACD,CAFyB,CAEvB,IAFuB,CAA1B,CAGA,MAAO,kBAAMI,aAAY,CAACF,OAAD,CAAlB,EAAP,CACD,CACF,CAPQ,CAAT,CASA,GAAMG,aAAY,CAAG,QAAfA,aAAe,CAACC,gBAAD,CAAsB,CACzC,GAAIhB,KAAK,CAACiB,GAAN,CAAUD,gBAAV,IAAgCb,KAApC,CACEM,gBAAgB,CAACO,gBAAD,CAAhB,CADF,IAEK,CACH,GAAME,iBAAgB,CAAGZ,aAAa,CAACa,MAAd,CACvB,SAACC,MAAD,QAAY,CAACJ,gBAAgB,CAACK,QAAjB,CAA0BD,MAA1B,CAAb,EADuB,CAAzB,CAGA;AACAhB,QAAQ,CAACJ,KAAK,CAACsB,WAAN,CAAkBJ,gBAAlB,CAAoC,CAApC,CAAD,CAAR,CACAX,gBAAgB,CAACW,gBAAD,CAAhB,CACAT,gBAAgB,CAAC,EAAD,CAAhB,CACD,CACF,CAZD,CAcA,MAAO,CAAEN,KAAK,CAALA,KAAF,CAASG,aAAa,CAAbA,aAAT,CAAwBE,aAAa,CAAbA,aAAxB,CAAuCE,WAAW,CAAXA,WAAvC,CAAoDK,YAAY,CAAZA,YAApD,CAAP,CACD,CAhCD,CAkCA,cAAed,aAAf"},"metadata":{},"sourceType":"module"}